const axios = require('axios')
const delay = require('delay')

const FIXER_KEY = process.env['FIXER_KEY']
const ratesUrl = `http://data.fixer.io/api/latest?access_key=${FIXER_KEY}&base=EUR`

const getData = () => axios.get(ratesUrl)

module.exports = async (req, res) => {
	// const { data } = await getData()
	await delay(1000)
	res.setHeader('Cache-Control', 's-maxage=3600')

	// res.json({
	// 	...data,
	// 	timestamp: data.timestamp * 1000,
	// })

	res.json({
		success: true,
		timestamp: 1598593745000,
		base: 'EUR',
		date: '2020-08-28',
		rates: {
			AED: 4.3593,
			AFN: 91.29353,
			ALL: 124.67954,
			AMD: 578.039451,
			ANG: 2.12831,
			AOA: 704.211655,
			ARS: 87.687091,
			AUD: 1.627516,
			AWG: 2.136359,
			AZN: 2.015081,
			BAM: 1.964331,
			BBD: 2.39406,
			BDT: 100.540286,
			BGN: 1.955839,
			BHD: 0.447468,
			BIF: 2288.172048,
			BMD: 1.186866,
			BND: 1.620111,
			BOB: 8.18713,
			BRL: 6.611203,
			BSD: 1.185731,
			BTC: 0.000104,
			BTN: 87.47474,
			BWP: 13.707419,
			BYN: 3.156259,
			BYR: 23262.57633,
			BZD: 2.389942,
			CAD: 1.554498,
			CDF: 2314.389415,
			CHF: 1.075354,
			CLF: 0.03374,
			CLP: 930.984384,
			CNY: 8.161482,
			COP: 4529.59154,
			CRC: 706.055439,
			CUC: 1.186866,
			CUP: 31.451953,
			CVE: 110.742836,
			CZK: 26.273656,
			DJF: 211.083455,
			DKK: 7.443775,
			DOP: 69.291859,
			DZD: 152.199298,
			EGP: 18.834855,
			ERN: 17.803029,
			ETB: 42.795396,
			EUR: 1,
			FJD: 2.516747,
			FKP: 0.895177,
			GBP: 0.895103,
			GEL: 3.666652,
			GGP: 0.895177,
			GHS: 6.841377,
			GIP: 0.895177,
			GMD: 61.473315,
			GNF: 11452.464211,
			GTQ: 9.138531,
			GYD: 247.901739,
			HKD: 9.19839,
			HNL: 29.239533,
			HRK: 7.525873,
			HTG: 133.052774,
			HUF: 355.970835,
			IDR: 17405.451276,
			ILS: 4.002703,
			IMP: 0.895177,
			INR: 87.1101,
			IQD: 1415.485517,
			IRR: 49972.998532,
			ISK: 163.502438,
			JEP: 0.895177,
			JMD: 177.467987,
			JOD: 0.841531,
			JPY: 126.144846,
			KES: 128.420697,
			KGS: 93.094099,
			KHR: 4858.926956,
			KMF: 490.116187,
			KPW: 1068.249273,
			KRW: 1405.837026,
			KWD: 0.362682,
			KYD: 0.988076,
			KZT: 497.683712,
			LAK: 10789.791739,
			LBP: 1792.758094,
			LKR: 220.567572,
			LRD: 236.55005,
			LSL: 20.59177,
			LTL: 3.504507,
			LVL: 0.717923,
			LYD: 1.623124,
			MAD: 10.933715,
			MDL: 19.677855,
			MGA: 4567.857305,
			MKD: 61.883058,
			MMK: 1587.04085,
			MNT: 3388.588933,
			MOP: 9.464557,
			MRO: 423.711389,
			MUR: 47.178852,
			MVR: 18.289471,
			MWK: 889.187888,
			MXN: 26.189922,
			MYR: 4.954568,
			MZN: 84.873324,
			NAD: 20.591608,
			NGN: 458.438622,
			NIO: 41.35112,
			NOK: 10.522719,
			NPR: 139.961676,
			NZD: 1.781421,
			OMR: 0.456979,
			PAB: 1.185621,
			PEN: 4.234123,
			PGK: 4.186683,
			PHP: 57.487082,
			PKR: 198.424578,
			PLN: 4.407666,
			PYG: 8279.027472,
			QAR: 4.321436,
			RON: 4.84028,
			RSD: 118.224125,
			RUB: 88.767617,
			RWF: 1146.280421,
			SAR: 4.451598,
			SBD: 9.810124,
			SCR: 21.222483,
			SDG: 65.628707,
			SEK: 10.30948,
			SGD: 1.617829,
			SHP: 0.895177,
			SLL: 11586.775126,
			SOS: 691.350267,
			SRD: 8.851692,
			STD: 25271.664252,
			SVC: 10.373893,
			SYP: 607.136753,
			SZL: 20.08552,
			THB: 37.026631,
			TJS: 12.233184,
			TMT: 4.1659,
			TND: 3.237183,
			TOP: 2.702079,
			TRY: 8.724213,
			TTD: 8.035674,
			TWD: 34.864786,
			TZS: 2753.529326,
			UAH: 32.594451,
			UGX: 4366.879198,
			USD: 1.186866,
			UYU: 50.740724,
			UZS: 12190.0422,
			VEF: 11.853826,
			VND: 27505.622778,
			VUV: 134.101209,
			WST: 3.091631,
			XAF: 658.807983,
			XAG: 0.043578,
			XAU: 0.000611,
			XCD: 3.207565,
			XDR: 0.839633,
			XOF: 658.807982,
			XPF: 119.704203,
			YER: 297.132262,
			ZAR: 20.129309,
			ZMK: 10683.229611,
			ZMW: 22.972714,
			ZWL: 382.171026,
		},
	})
}
